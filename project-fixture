<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Project – Monte Cruz Engineering</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root{
      --bg-body:#050509;
      --text-main:#f5f5f5;
      --text-muted:#b3b3c2;

      /* default accent = BLUE */
      --accent:#1a3d7c;
      --accent-soft:rgba(26,61,124,.20);

      --radius-lg:18px;
      --shadow-soft:0 24px 60px rgba(0,0,0,.65);
      --max-width:1100px;

      /* light cards */
      --card-bg-light:rgba(245,246,248,.92);
      --card-border-light:rgba(0,0,0,.08);
      --card-text-main:#1a1a1a;
      --card-text-muted:#5f6368;
    }

    body[data-theme="yellow"]{
      --accent:#f2c230;
      --accent-soft:rgba(242,194,48,.20);
    }

    *{box-sizing:border-box;margin:0;padding:0;}
    body{
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Inter",sans-serif;
      background:
        radial-gradient(circle at top left, rgba(26,61,124,.35), transparent 60%),
        radial-gradient(circle at bottom right, rgba(26,61,124,.25), transparent 60%),
        var(--bg-body);
      color:var(--text-main);
      min-height:100vh;
    }
    body[data-theme="yellow"]{
      background:
        radial-gradient(circle at top left, rgba(26,61,124,.35), transparent 60%),
        radial-gradient(circle at bottom right, rgba(242,194,48,.25), transparent 60%),
        var(--bg-body);
    }
    a{color:inherit}

    /* NAV */
    .nav{
      position:fixed;top:0;left:0;right:0;z-index:50;
      backdrop-filter:blur(16px);
      background:linear-gradient(to bottom, rgba(5,5,12,.92), rgba(5,5,12,.65));
      border-bottom:1px solid rgba(255,255,255,.04);
    }
    .nav-inner{
      max-width:var(--max-width);
      margin:0 auto;
      padding:.7rem 1.2rem;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
    }
    .brand{
      display:inline-flex;align-items:center;gap:.5rem;text-decoration:none;min-width:0;
    }
    .brand-logo{
      width:32px;height:32px;border-radius:999px;
      border:2px solid var(--accent);
      display:inline-flex;align-items:center;justify-content:center;
      font-size:.8rem;font-weight:700;
      background:rgba(5,5,12,.8);
      flex:0 0 auto;
    }
    .brand-text{
      font-size:.9rem;letter-spacing:.08em;text-transform:uppercase;
      color:var(--text-muted);
      white-space:nowrap;overflow:hidden;text-overflow:ellipsis;
    }
    .nav-right{display:inline-flex;align-items:center;gap:.75rem;flex:0 0 auto;}
    .nav-links{display:flex;gap:1rem;font-size:.82rem;align-items:center;}
    .nav-links a{
      text-decoration:none;color:var(--text-muted);
      padding:.25rem .4rem;border-radius:999px;
      transition:background .15s ease,color .15s ease;
    }
    .nav-links a:hover{background:rgba(255,255,255,.04);color:var(--text-main);}
    .tag-small{
      font-size:.72rem;padding:.24rem .55rem;border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(5,5,12,.7);
      color:var(--text-muted);
    }

    .theme-toggle{
      display:inline-flex;align-items:center;gap:.5rem;
      padding:.45rem .75rem;border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(5,5,12,.6);
      color:var(--text-muted);
      cursor:pointer;font-size:.78rem;
      transition:background .15s ease,border-color .15s ease,transform .15s ease;
      user-select:none;white-space:nowrap;
    }
    .theme-toggle:hover{
      background:rgba(255,255,255,.05);
      border-color:rgba(255,255,255,.35);
      transform:translateY(-1px);
    }
    .theme-toggle .dot{
      width:10px;height:10px;border-radius:999px;background:var(--accent);
      box-shadow:0 0 0 3px rgba(255,255,255,.06);
    }

    /* HERO */
    .hero-wrapper{
      position:relative;
      min-height:65vh;
      margin-top:3.1rem;
      display:flex;
      align-items:stretch;
      justify-content:center;
    }
    .hero-banner{position:relative;flex:1;max-width:100%;overflow:hidden;}
    .hero-banner::before{
      content:"";position:absolute;inset:0;
      background-image:
        linear-gradient(to top, rgba(5,5,12,.9), rgba(5,5,12,.45)),
        url("https://github.com/PabloCruz18/pablocruz/blob/3e48d08e2461f60779d6c2956648fb9410505587/fixture.jpg?raw=true");
      background-size:cover;background-position:center;background-repeat:no-repeat;
      filter:saturate(1.1);
      transform:scale(1.02);
    }
    .hero-content{
      position:relative;
      max-width:var(--max-width);
      margin:0 auto;
      padding:3.5rem 1.4rem 3rem;
      display:grid;
      grid-template-columns:minmax(0,1.6fr) minmax(0,1fr);
      gap:2rem;
      align-items:flex-end;
      z-index:1;
    }
    .hero-left{display:flex;flex-direction:column;gap:1rem;}
    .project-label{
      font-size:.8rem;letter-spacing:.2em;text-transform:uppercase;color:var(--text-muted);
    }
    .project-title{font-size:2.3rem;letter-spacing:-.04em;line-height:1.1;}
    .project-meta{font-size:.9rem;color:var(--text-muted);}

    .project-tags{display:flex;flex-wrap:wrap;gap:.4rem;margin-top:.4rem;}
    .project-tag{
      font-size:.76rem;padding:.3rem .7rem;border-radius:999px;
      background:rgba(5,5,12,.6);
      border:1px solid rgba(255,255,255,.15);
      color:var(--text-muted);
    }

    .hero-cta-row{display:flex;flex-wrap:wrap;gap:.7rem;align-items:center;margin-top:.8rem;}
    .btn-primary{
      padding:.65rem 1.3rem;border-radius:999px;border:none;
      background:var(--accent);color:#fff;font-size:.86rem;font-weight:600;
      text-decoration:none;display:inline-flex;align-items:center;gap:.4rem;
      box-shadow:0 18px 45px rgba(0,0,0,.6);
      transition:transform .15s ease,box-shadow .15s ease,background .15s ease;
    }
    .btn-primary:hover{
      transform:translateY(-1px);
      background:rgba(47,107,255,1);
      box-shadow:0 22px 60px rgba(0,0,0,.75);
    }
    body[data-theme="yellow"] .btn-primary:hover{background:#ffd95b;}

    .btn-ghost{
      padding:.6rem 1.1rem;border-radius:999px;
      border:1px solid rgba(255,255,255,.3);
      background:rgba(5,5,12,.6);
      color:var(--text-muted);font-size:.82rem;text-decoration:none;
      display:inline-flex;align-items:center;gap:.35rem;
      transition:background .15s ease,border-color .15s ease,color .15s ease;
    }
    .btn-ghost:hover{
      background:rgba(5,5,12,.9);
      border-color:rgba(255,255,255,.5);
      color:var(--text-main);
    }

    .hero-right{justify-self:flex-end;}
    .hero-spec-card{
      background:var(--card-bg-light);
      border-radius:18px;
      border:1px solid var(--card-border-light);
      padding:1rem 1.1rem;
      box-shadow:0 18px 45px rgba(0,0,0,.15);
      font-size:.82rem;
      display:grid;
      gap:.4rem;
      color:var(--card-text-main);
    }
    .spec-title{
      font-size:.86rem;text-transform:uppercase;letter-spacing:.18em;
      color:var(--card-text-muted);
      margin-bottom:.2rem;
    }
    .spec-row{display:flex;justify-content:space-between;gap:.6rem;}
    .spec-label{color:var(--card-text-muted);}
    .spec-value{font-weight:600;}

    /* MAIN */
    main{
      max-width:var(--max-width);
      margin:0 auto;
      padding:2.4rem 1.4rem 3rem;
    }
    .section-label{
      font-size:.74rem;letter-spacing:.18em;text-transform:uppercase;
      color:var(--text-muted);
      margin-bottom:.4rem;
    }
    .section-title{
      font-size:1.3rem;
      margin-bottom:.7rem;
    }

    /* GALLERY */
    .gallery{margin-top:1.8rem;}
    .gallery-tabs{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.6rem;}
    .gallery-tab{
      padding:.45rem .8rem;border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(5,5,12,.55);
      color:var(--text-muted);
      cursor:pointer;font-size:.78rem;
      transition:background .15s ease,border-color .15s ease,color .15s ease;
    }
    .gallery-tab:hover{
      background:rgba(255,255,255,.06);
      border-color:rgba(255,255,255,.30);
      color:var(--text-main);
    }
    .gallery-tab.is-active{
      border-color:rgba(255,255,255,.40);
      color:var(--text-main);
      background:linear-gradient(to right, rgba(5,5,12,.65), rgba(5,5,12,.45));
      box-shadow:0 10px 25px rgba(0,0,0,.35);
    }

    .gallery-grid{
      display:grid;
      grid-template-columns:repeat(12,1fr);
      gap:.9rem;
      margin-top:.8rem;
    }
    .gallery-item{
      grid-column:span 4;
      border:1px solid rgba(255,255,255,.10);
      border-radius:16px;
      background:rgba(5,5,12,.55);
      padding:0;
      overflow:hidden;
      cursor:pointer;
      box-shadow:0 18px 45px rgba(0,0,0,.35);
      transition:transform .15s ease,border-color .15s ease,background .15s ease;
    }
    .gallery-item:hover{
      transform:translateY(-2px);
      border-color:rgba(255,255,255,.22);
      background:rgba(5,5,12,.70);
    }
    .gallery-item img{
      display:block;width:100%;height:210px;object-fit:cover;
    }

    /* LIGHTBOX */
    .lightbox{
      position:fixed;inset:0;
      background:rgba(0,0,0,.85);
      display:none;
      place-items:center;
      z-index:999;
      padding:1.2rem;
    }
    .lightbox.is-open{display:grid;}
    .lightbox img{
      max-width:min(1100px,96vw);
      max-height:86vh;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      box-shadow:0 30px 80px rgba(0,0,0,.6);
    }
    .lightbox-close{
      position:absolute;top:16px;right:16px;
      width:42px;height:42px;border-radius:999px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(5,5,12,.65);
      color:var(--text-main);
      cursor:pointer;
      font-size:18px;
    }
    .lightbox-nav{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:44px;height:44px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.25);
      background:rgba(5,5,12,.7);
      color:white;
      font-size:28px;
      cursor:pointer;
      display:grid;
      place-items:center;
      transition:background .15s ease,transform .15s ease;
    }
    .lightbox-nav:hover{
      background:rgba(255,255,255,.12);
      transform:translateY(-50%) scale(1.05);
    }
    .lightbox-nav.prev{left:20px;}
    .lightbox-nav.next{right:20px;}

    /* FOOTER */
    .footer{
      max-width:var(--max-width);
      margin:0 auto;
      padding:1.5rem 1.4rem 2.3rem;
      font-size:.78rem;
      color:var(--text-muted);
      display:flex;
      justify-content:space-between;
      gap:.8rem;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .footer a{color:var(--text-muted);text-decoration:none;}

    /* RESPONSIVE */
    @media (max-width:900px){
      .hero-content{grid-template-columns:minmax(0,1fr);padding-top:3rem;}
      .hero-right{justify-self:stretch;}
      .gallery-item{grid-column:span 6;}
    }
    @media (max-width:640px){
      .nav-inner{padding-inline:.9rem;}
      main{padding-inline:.9rem;}
      .hero-content{padding-inline:.9rem;}
      .nav-links{display:none;}
      .gallery-item{grid-column:span 12;}
      .gallery-item img{height:220px;}
      .lightbox-nav{width:38px;height:38px;font-size:24px;}
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header class="nav">
    <div class="nav-inner">
      <a href="index.html#top" class="brand">
        <div class="brand-logo">MC</div>
        <div class="brand-text">Monte Cruz Engineering</div>
      </a>

      <div class="nav-right">
        <nav class="nav-links">
          <span class="tag-small">Project view</span>
          <a href="index.html#projects">All projects</a>
          <a href="index.html#contact">Contact</a>
        </nav>

        <button id="themeToggle" class="theme-toggle" type="button" aria-label="Toggle theme">
          <span class="dot"></span>
          <span class="label">Blue</span>
        </button>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <div class="hero-wrapper">
    <div class="hero-banner">
      <div class="hero-content">
        <div class="hero-left">
          <div class="project-label">Project · Mechanical · Hands-on</div>
          <h1 class="project-title">Project Title Here</h1>
          <p class="project-meta">
            Short description of the project. Keep it 1–2 lines: scope, purpose, and outcome.
          </p>

          <div class="project-tags">
            <span class="project-tag">Tag 1</span>
            <span class="project-tag">Tag 2</span>
            <span class="project-tag">Tag 3</span>
          </div>

          <div class="hero-cta-row">
            <a href="#details" class="btn-primary">See Details</a>
            <a href="index.html#projects" class="btn-ghost">← Back to all projects</a>
          </div>
        </div>

        <div class="hero-right">
          <div class="hero-spec-card">
            <div class="spec-title">Project specs</div>
            <div class="spec-row">
              <span class="spec-label">Type</span>
              <span class="spec-value">Build / Design</span>
            </div>
            <div class="spec-row">
              <span class="spec-label">Tools</span>
              <span class="spec-value">CAD · Test · Docs</span>
            </div>
            <div class="spec-row">
              <span class="spec-label">Status</span>
              <span class="spec-value">In progress</span>
            </div>
            <div class="spec-row">
              <span class="spec-label">Year</span>
              <span class="spec-value">2025</span>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- MAIN -->
  <main id="details">
    <div class="section-label">Gallery</div>
    <h2 class="section-title">Project Photos</h2>

    <!--
      SIMPLE GALLERY (no stages):
      - Leave data-stages empty or omit it.
      - Lightbox still supports arrows + swipe.
    -->
    <section class="gallery" id="projectGallery" data-stages="">
      <div class="gallery-tabs"></div>

      <div class="gallery-grid">
        <!-- Replace with your real images -->
        <button class="gallery-item" type="button" data-full="assets/img/project/photo-01.jpg">
          <img src="assets/img/project/photo-01.jpg" alt="Project photo 1">
        </button>

        <button class="gallery-item" type="button" data-full="assets/img/project/photo-02.jpg">
          <img src="assets/img/project/photo-02.jpg" alt="Project photo 2">
        </button>

        <button class="gallery-item" type="button" data-full="assets/img/project/photo-03.jpg">
          <img src="assets/img/project/photo-03.jpg" alt="Project photo 3">
        </button>

        <button class="gallery-item" type="button" data-full="assets/img/project/photo-04.jpg">
          <img src="assets/img/project/photo-04.jpg" alt="Project photo 4">
        </button>
      </div>
    </section>
  </main>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <button class="lightbox-close" id="lightboxClose" aria-label="Close">✕</button>
    <button class="lightbox-nav prev" id="lightboxPrev" aria-label="Previous">‹</button>
    <img id="lightboxImg" alt="Expanded project photo">
    <button class="lightbox-nav next" id="lightboxNext" aria-label="Next">›</button>
  </div>

  <footer class="footer">
    <div>© Monte Cruz Engineering – Pablo Cruz</div>
    <div><a href="index.html#contact">Contact</a></div>
  </footer>

  <script>
    // ---------------------------
    // THEME TOGGLE (Blue / Yellow)
    // ---------------------------
    const themeBtn = document.getElementById("themeToggle");
    const themeLabel = themeBtn?.querySelector(".label");

    const savedTheme = localStorage.getItem("theme");
    if (savedTheme === "yellow") document.body.setAttribute("data-theme", "yellow");

    function updateThemeLabel(){
      const t = document.body.getAttribute("data-theme") === "yellow" ? "Yellow" : "Blue";
      if (themeLabel) themeLabel.textContent = t;
    }
    updateThemeLabel();

    themeBtn?.addEventListener("click", () => {
      const isYellow = document.body.getAttribute("data-theme") === "yellow";
      if (isYellow) {
        document.body.removeAttribute("data-theme");
        localStorage.setItem("theme", "blue");
      } else {
        document.body.setAttribute("data-theme", "yellow");
        localStorage.setItem("theme", "yellow");
      }
      updateThemeLabel();
    });

    // ---------------------------
    // UNIVERSAL GALLERY (simple or staged)
    // ---------------------------
    const gallery = document.getElementById("projectGallery");
    const gridItems = Array.from(document.querySelectorAll(".gallery-item"));

    if (gallery) {
      const raw = (gallery.getAttribute("data-stages") || "").trim();

      // Parse: "key:Label,key2:Label2"
      const stages = raw
        ? raw.split(",").map(s => s.trim()).filter(Boolean).map(pair => {
            const [key, label] = pair.split(":").map(x => x.trim());
            return { key, label: label || key };
          })
        : [];

      let activeStage = stages.length ? stages[0].key : "all";
      const tabsContainer = gallery.querySelector(".gallery-tabs");

      // Build tabs dynamically (or hide if none)
      if (tabsContainer) {
        tabsContainer.innerHTML = "";
        if (stages.length) {
          stages.forEach((s, i) => {
            const btn = document.createElement("button");
            btn.type = "button";
            btn.className = "gallery-tab" + (i === 0 ? " is-active" : "");
            btn.dataset.stage = s.key;
            btn.textContent = s.label;
            tabsContainer.appendChild(btn);
          });
        } else {
          tabsContainer.style.display = "none";
        }
      }

      function setStage(stage){
        activeStage = stage;
        document.querySelectorAll(".gallery-tab").forEach(t => {
          t.classList.toggle("is-active", t.dataset.stage === stage);
        });

        gridItems.forEach(item => {
          if (!stages.length) {
            item.hidden = false; // simple gallery
            return;
          }
          item.hidden = (item.dataset.stage !== stage);
        });
      }

      // tab listeners
      document.querySelectorAll(".gallery-tab").forEach(tab => {
        tab.addEventListener("click", () => setStage(tab.dataset.stage));
      });

      setStage(activeStage);

      // ---------------------------
      // LIGHTBOX (arrows + keyboard + swipe)
      // ---------------------------
      const lightbox = document.getElementById("lightbox");
      const lightboxImg = document.getElementById("lightboxImg");
      const btnClose = document.getElementById("lightboxClose");
      const btnPrev = document.getElementById("lightboxPrev");
      const btnNext = document.getElementById("lightboxNext");

      let currentIndex = 0;
      let startX = 0;

      function currentStageItems(){
        if (!stages.length) return gridItems;
        return gridItems.filter(i => i.dataset.stage === activeStage);
      }

      function openLightbox(index){
        const items = currentStageItems();
        if (!items.length) return;
        currentIndex = index;
        lightboxImg.src = items[currentIndex].dataset.full;
        lightbox.classList.add("is-open");
        lightbox.setAttribute("aria-hidden", "false");
      }

      function closeLightbox(){
        lightbox.classList.remove("is-open");
        lightbox.setAttribute("aria-hidden", "true");
        lightboxImg.src = "";
      }

      function showPrev(){
        const items = currentStageItems();
        if (!items.length) return;
        currentIndex = (currentIndex - 1 + items.length) % items.length;
        lightboxImg.src = items[currentIndex].dataset.full;
      }

      function showNext(){
        const items = currentStageItems();
        if (!items.length) return;
        currentIndex = (currentIndex + 1) % items.length;
        lightboxImg.src = items[currentIndex].dataset.full;
      }

      gridItems.forEach(item => {
        item.addEventListener("click", () => {
          const items = currentStageItems();
          const idx = items.indexOf(item);
          if (idx >= 0) openLightbox(idx);
        });
      });

      btnClose?.addEventListener("click", closeLightbox);
      btnPrev?.addEventListener("click", showPrev);
      btnNext?.addEventListener("click", showNext);

      lightbox?.addEventListener("click", (e) => { if (e.target === lightbox) closeLightbox(); });

      window.addEventListener("keydown", (e) => {
        if (!lightbox.classList.contains("is-open")) return;
        if (e.key === "Escape") closeLightbox();
        if (e.key === "ArrowLeft") showPrev();
        if (e.key === "ArrowRight") showNext();
      });

      lightbox?.addEventListener("touchstart", (e) => startX = e.touches[0].clientX);
      lightbox?.addEventListener("touchend", (e) => {
        const diff = e.changedTouches[0].clientX - startX;
        if (Math.abs(diff) > 50) diff > 0 ? showPrev() : showNext();
      });
    }
  </script>
</body>
</html>
